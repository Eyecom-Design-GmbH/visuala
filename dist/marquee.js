!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("marquee",[],t):"object"==typeof exports?exports.marquee=t():e.marquee=t()}(this,(()=>(()=>{function e(e,t={}){const r={speed:50,direction:"left",pauseOnHover:!0,duplicateContent:!0,gap:50,autoStart:!0,smooth:!0,responsive:!0,minDuplicates:3,preserveStyles:!0,containerStyles:{overflow:"hidden",whiteSpace:"nowrap"},...t},a="string"==typeof e?document.querySelectorAll(e):[e];if(0===a.length)return console.warn(`Marquee: No elements found for selector "${e}"`),null;const n=[];return a.forEach((e=>{const t=function(e){if(e.classList.contains("marquee-processed"))return;e.classList.add("marquee-processed");const t={overflow:e.style.overflow||getComputedStyle(e).overflow,whiteSpace:e.style.whiteSpace||getComputedStyle(e).whiteSpace,position:e.style.position||getComputedStyle(e).position};let a=e.querySelector(".marquee-content"),n=!1;if(!a){const t=Array.from(e.children);t.length>1||r.duplicateContent?(a=document.createElement("div"),a.className="marquee-content",t.forEach((e=>a.appendChild(e))),e.appendChild(a),n=!0):a=t[0]||e}r.preserveStyles?gsap.set(e,{overflow:"hidden",force3D:!0}):gsap.set(e,{overflow:r.containerStyles.overflow,whiteSpace:r.containerStyles.whiteSpace,position:"static"===t.position?"relative":t.position,force3D:!0});const o="left"===r.direction||"right"===r.direction;function s(){if(!r.duplicateContent)return void requestAnimationFrame((()=>{c=u()}));const t=a.innerHTML;gsap.set(a,{visibility:"hidden"}),a.innerHTML=t,gsap.set(a,{visibility:"visible"}),requestAnimationFrame((()=>{const n=o?e.offsetWidth:e.offsetHeight,s=o?a.scrollWidth:a.scrollHeight;if(0===s)return void console.warn("Marquee: Content size is 0, retrying...");const i=2*n,l=Math.max(r.minDuplicates,Math.ceil(i/s)+1),p=document.createDocumentFragment();for(let e=0;e<l;e++){const e=document.createElement("div");e.innerHTML=t,e.style.display="contents",p.appendChild(e)}a.innerHTML="",a.appendChild(p),a.setAttribute("data-duplicates-count",l),requestAnimationFrame((()=>{c=u()}))}))}function i(){const e=parseInt(a.getAttribute("data-duplicates-count"))||1;return o?a.scrollWidth/e:a.scrollHeight/e}function u(){const e=i(),t=e/r.speed;if(0===e)return console.warn("Marquee: Animation distance is 0, retrying..."),setTimeout((()=>{s=u()}),100),null;let n,o;switch(r.direction){case"left":n={x:0,y:0},o={x:-e,y:0};break;case"right":n={x:-e,y:0},o={x:0,y:0};break;case"up":n={x:0,y:0},o={x:0,y:-e};break;case"down":n={x:0,y:-e},o={x:0,y:0}}gsap.set(a,{...n,force3D:!0,willChange:"transform"});const s=gsap.to(a,{...o,duration:t,ease:r.smooth?"none":"power1.inOut",repeat:-1,repeatRefresh:!1,paused:!r.autoStart,force3D:!0,transformOrigin:"0 0"});return s}if(!n&&r.preserveStyles||(gsap.set(a,{display:o?"inline-flex":"flex",flexDirection:o?"row":"column",gap:`${r.gap}px`,whiteSpace:"nowrap",willChange:"transform",force3D:!0,backfaceVisibility:"hidden"}),r.preserveStyles||gsap.set(a,{alignItems:o?"center":"stretch"})),"undefined"==typeof gsap)return console.warn("GSAP not available for marquee animation"),null;s();let l,c=null;if(r.pauseOnHover&&(e.addEventListener("mouseenter",(()=>{c&&c.pause()}),{passive:!0}),e.addEventListener("mouseleave",(()=>{c&&c.play()}),{passive:!0})),r.responsive){const t=new ResizeObserver((()=>{clearTimeout(l),l=setTimeout((()=>{c&&(c.kill(),c=null),s()}),100)}));t.observe(e),e._marqueeCleanup=()=>{t.disconnect(),clearTimeout(l),c&&c.kill()}}return{element:e,content:a,get animation(){return c},setAnimation(e){c=e},play:()=>c?.play(),pause:()=>c?.pause(),restart:()=>c?.restart(),reverse:()=>c?.reverse(),setSpeed:e=>{if(c){const t=i()/e;c.duration(t),r.speed=e}},cleanup:()=>{e._marqueeCleanup&&e._marqueeCleanup(),r.preserveStyles&&gsap.set(e,t)}}}(e);t&&n.push(t)})),{marquees:n,play:()=>n.forEach((e=>e.play())),pause:()=>n.forEach((e=>e.pause())),restart:()=>n.forEach((e=>e.restart())),reverse:()=>n.forEach((e=>e.reverse())),setSpeed:e=>n.forEach((t=>t.setSpeed(e))),cleanup:()=>n.forEach((e=>e.cleanup()))}}return document.addEventListener("DOMContentLoaded",(function(){setTimeout((function t(){if("undefined"==typeof gsap)return void setTimeout(t,100);const r=document.querySelectorAll("[data-marquee]");r.forEach((t=>{const r={};t.hasAttribute("data-marquee-speed")&&(r.speed=parseFloat(t.getAttribute("data-marquee-speed"))),t.hasAttribute("data-marquee-direction")&&(r.direction=t.getAttribute("data-marquee-direction")),t.hasAttribute("data-marquee-pause-on-hover")&&(r.pauseOnHover="true"===t.getAttribute("data-marquee-pause-on-hover")),t.hasAttribute("data-marquee-gap")&&(r.gap=parseFloat(t.getAttribute("data-marquee-gap"))),t.hasAttribute("data-marquee-duplicate")&&(r.duplicateContent="true"===t.getAttribute("data-marquee-duplicate")),t.hasAttribute("data-marquee-preserve-styles")&&(r.preserveStyles="true"===t.getAttribute("data-marquee-preserve-styles")),e(t,r)})),r.length>0&&console.log(`Auto-initialized ${r.length} marquee elements`)}),100)})),window.createInfiniteMarquee=e,{}})()));