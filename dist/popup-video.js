!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("popup-video",[],t):"object"==typeof exports?exports["popup-video"]=t():e["popup-video"]=t()}(this,(()=>(document.addEventListener("DOMContentLoaded",(e=>{const t=[{opacity:"0"},{opacity:"1"}],o=[{opacity:"1"},{opacity:"0"}],n=document.querySelectorAll('[fc-video-popup ^= "component"]'),i=Array.from(n).filter((e=>e.querySelector("iframe").getAttribute("src").includes("vimeo"))),r=Array.from(n).filter((e=>e.querySelector("iframe").getAttribute("src").includes("youtube")));var a,c;function p(e){e.parentNode.animate([{opacity:"1"},{opacity:"0"}],{duration:300,fill:"forwards"}),setTimeout((function(){e.parentNode.style.display="none"}),300)}function l(e){e.parentNode.style.display="flex",e.parentNode.animate([{opacity:"0"},{opacity:"1"}],{duration:300,fill:"forwards"})}i.length>0&&((a=document.createElement("script")).type="text/javascript",a.src="https://player.vimeo.com/api/player.js",(c=document.getElementsByTagName("script")[0]).parentNode.insertBefore(a,c),a.onload=()=>{for(const e of i){const n=e.querySelector("[fc-video-popup = play]");let i=e.getAttribute("fc-video-popup").split("component")[1];void 0===i&&(i="");const r=document.querySelectorAll(`[fc-video-popup = open${i}]`),a=e.querySelectorAll("[fc-video-popup = close]"),c={duration:parseFloat(e.getAttribute("duration")),easing:e.getAttribute("easing")};isNaN(c.duration)&&(c.duration=300),null===c.easing&&(c.easing="ease");const s={duration:c.duration,fill:"forwards",easing:c.easing},u=e.querySelector("iframe"),d=new Vimeo.Player(u);d.on("pause",(function(){l(n)})),d.on("play",(function(){p(n)})),n.addEventListener("click",(function(){d.play()}));for(const o of r)o.addEventListener("click",(function(){d.play(),e.style.display="flex",e.animate(t,s),document.querySelector("body").style.overflow="hidden"}));for(const t of a)t.addEventListener("click",(function(){d.pause(),e.animate(o,s),setTimeout((function(){e.style.display="none"}),c.duration),document.querySelector("body").style.overflow="visible"}))}}),r.length>0&&((a=document.createElement("script")).type="text/javascript",a.src="https://www.youtube.com/iframe_api",(c=document.getElementsByTagName("script")[0]).parentNode.insertBefore(a,c))})),{})));