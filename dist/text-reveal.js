!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("text-reveal",[],e):"object"==typeof exports?exports["text-reveal"]=e():t["text-reveal"]=e()}(this,(()=>(()=>{const t=(()=>{const t=navigator.userAgent.toLowerCase(),e=["mobile","android","iphone","ipad","ipod","blackberry","windows phone"].some((e=>t.includes(e))),n="ontouchstart"in window||navigator.maxTouchPoints>0,r=window.innerWidth<=768;return e||n&&r})(),e={maxWords:t?15:50,useBlur:!t,useBatching:!0,useForce3D:!0,preferredFPS:t?30:60};function n(n,r={}){const o={blurAmount:8,moveDistance:100,duration:1.5,staggerAmount:.05,triggerStart:"top 70%",triggerEnd:"top 20%",ease:"power4.out",splitSpaces:!0,autoInit:!1,scrub:!1,toggleActions:"play none none none",direction:"left",...r};t&&(o.blurAmount=0,o.moveDistance=Math.min(o.moveDistance,30),o.duration=Math.max(.4,.7*o.duration),o.staggerAmount=Math.max(.03,2*o.staggerAmount),o.splitSpaces=!1,console.log("ðŸ”‹ Text Reveal: Mobile optimization applied"));const a="string"==typeof n?document.querySelectorAll(n):[n];if(0===a.length)return null;function i(t,e){switch(t){case"right":return{x:e,y:0};case"up":return{x:0,y:-e};case"down":return{x:0,y:e};default:return{x:-e,y:0}}}function s(t){const n=t.querySelectorAll(".text-reveal-word, .text-reveal-whitespace");if(0===n.length)return;const r=Math.min(n.length,e.maxWords),a=Array.from(n).slice(0,r);r<n.length&&console.log(`ðŸ”§ Performance: Limited to ${r}/${n.length} words for performance`);const i={x:0,y:0,opacity:1,duration:o.duration,ease:o.ease,stagger:o.staggerAmount,force3D:e.useForce3D,transformOrigin:"center center"};return o.blurAmount>0&&e.useBlur&&(i.filter="blur(0px)"),o.autoInit&&(i.scrollTrigger={trigger:t,start:o.triggerStart,end:o.triggerEnd,toggleActions:o.toggleActions,scrub:o.scrub,markers:!1,fastScrollEnd:!0,refreshPriority:1}),gsap.to(a,i)}const l=[];return a.forEach((n=>{const r=function(n){return n&&n.classList?(n.classList.contains("text-reveal-processed")||(n.classList.add("text-reveal-processed"),function(n){if(t)return void function(t){const n=t.textContent.split(" ").filter((t=>""!==t.trim())),r=n.slice(0,15);r.length<n.length&&console.log(`ðŸ”‹ Text Reveal: Limited to 15 words on mobile (${n.length} total)`),t.innerHTML="";const a=document.createDocumentFragment();r.forEach(((t,n)=>{const s=document.createElement("span");s.className="text-reveal-word",s.textContent=t;const l=i(o.direction,o.moveDistance);s.style.cssText=`\n        opacity: 0;\n        ${o.blurAmount>0&&e.useBlur?`filter: blur(${o.blurAmount}px);`:""}\n        transform: translateX(${l.x}px) translateY(${l.y}px) ${e.useForce3D?"translateZ(0)":""};\n        display: inline-block;\n        ${e.useForce3D?"will-change: transform, opacity;":""}\n        backface-visibility: hidden;\n      `,a.appendChild(s),n<r.length-1&&a.appendChild(document.createTextNode(" "))})),t.appendChild(a)}(n);const r=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,!1),a=[];let s;for(;s=r.nextNode();)""!==s.textContent.trim()&&a.push(s);a.forEach((t=>{const n=t.textContent,r=n.split(" ");if(r.length<=1){if(""!==n.trim()){const r=document.createElement("span");r.className="text-reveal-word",r.textContent=n;const a=i(o.direction,o.moveDistance);r.style.cssText=`\n            opacity: 0;\n            ${o.blurAmount>0&&e.useBlur?`filter: blur(${o.blurAmount}px);`:""}\n            transform: translateX(${a.x}px) translateY(${a.y}px) ${e.useForce3D?"translateZ(0)":""};\n            display: inline-block;\n            ${e.useForce3D?"will-change: transform, opacity;":""}\n            backface-visibility: hidden;\n          `,t.parentNode.replaceChild(r,t)}return}const a=document.createDocumentFragment();r.forEach(((t,n)=>{if(""!==t.trim()){const n=document.createElement("span");n.className="text-reveal-word",n.setAttribute("data-word",t),n.textContent=t;const r=i(o.direction,o.moveDistance);n.style.cssText=`\n            opacity: 0;\n            ${o.blurAmount>0&&e.useBlur?`filter: blur(${o.blurAmount}px);`:""}\n            transform: translateX(${r.x}px) translateY(${r.y}px) ${e.useForce3D?"translateZ(0)":""};\n            display: inline-block;\n            ${e.useForce3D?"will-change: transform, opacity;":""}\n            backface-visibility: hidden;\n          `,a.appendChild(n)}if(n<r.length-1)if(o.splitSpaces){const t=document.createElement("span");t.className="text-reveal-whitespace",t.innerHTML="Â ";const n=i(o.direction,o.moveDistance);t.style.cssText=`\n              opacity: 0;\n              ${o.blurAmount>0&&e.useBlur?`filter: blur(${o.blurAmount}px);`:""}\n              transform: translateX(${n.x}px) translateY(${n.y}px) ${e.useForce3D?"translateZ(0)":""};\n              display: inline-block;\n              ${e.useForce3D?"will-change: transform, opacity;":""}\n              backface-visibility: hidden;\n            `,a.appendChild(t)}else a.appendChild(document.createTextNode(" "))})),t.parentNode.replaceChild(a,t)}))}(n)),n):null}(n);r&&l.push(r)})),o.autoInit&&l.forEach((t=>{s(t)})),console.log(`Text Reveal: Processed ${l.length} elements`),{elements:l,animate:function(t=null){return null!==t&&l[t]?s(l[t]):l.map((t=>s(t)))},reset:function(){l.forEach((t=>{const n=t.querySelectorAll(".text-reveal-word, .text-reveal-whitespace"),r=i(o.direction,o.moveDistance),a={opacity:0,x:r.x,y:r.y};o.blurAmount>0&&e.useBlur&&(a.filter=`blur(${o.blurAmount}px)`),gsap.set(n,a)}))}}}return document.addEventListener("DOMContentLoaded",(function(){setTimeout((function t(){if("undefined"==typeof gsap)return void setTimeout(t,100);const e=document.querySelectorAll("[data-text-reveal]");e.forEach((t=>{const e={};if(t.hasAttribute("data-blur-amount")&&(e.blurAmount=parseFloat(t.getAttribute("data-blur-amount"))),t.hasAttribute("data-move-distance")&&(e.moveDistance=parseFloat(t.getAttribute("data-move-distance"))),t.hasAttribute("data-duration")&&(e.duration=parseFloat(t.getAttribute("data-duration"))),t.hasAttribute("data-stagger-amount")&&(e.staggerAmount=parseFloat(t.getAttribute("data-stagger-amount"))),t.hasAttribute("data-trigger-start")&&(e.triggerStart=t.getAttribute("data-trigger-start")),t.hasAttribute("data-direction")&&(e.direction=t.getAttribute("data-direction")),t.hasAttribute("data-scrub")){const n=t.getAttribute("data-scrub");e.scrub="true"===n||"false"!==n&&parseFloat(n)}e.autoInit=!0,n(t,e)})),e.length>0&&console.log(`Auto-initialized ${e.length} text reveal elements`)}),100)})),window.createTextReveal=n,{}})()));